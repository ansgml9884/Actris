<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="replay.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>    
    <audio id="my_audio">
        <source src="music/bgm_play_Tenvi.mp3">
    </audio>
</head>
<body class="body">
    <section class="sec1">
        <canvas class="game" id="gameCanvas" width="550px" height="680px" />
    </section>
    <section class="sec2">
        <br><br>
        <div class="title">REPLAY</div>
        <br><br><br>
        <div class="rank" id="name">NAME : </div>
        <br><br>
        <div class="rank" id="score">SCORE : </div>
        
        <form>
            <img id="larrow" src="images/left_arrow.png" width="40px" onClick="javascript:if(amount.value>0.5) amount.value/=2;">
            <input id="speed" type=text name=amount value=1 readonly;>
            <img id="rarrow" src="images/right_arrow.png" width="40px" onClick="javascript:if(amount.value<4)amount.value*=2;"> 
        </form>
        <br><br>
        <p><button class="control" id="pauseBtn">PAUSE</button></p>
        <p><button class="control" onclick="location.href='ranking.html'">EXIT</button></p>
    </section>
<script>
    //뒤로가기 막기
    history.pushState(null, null, location.href);
    window.onpopstate = function () {
        history.go(1);
};
</script>
<script type="text/javascript">
    setTimeout(function(){
      document.getElementById("my_audio").play();
    }, 2000)

    var url = new URL(window.location.href);
    var replay_id = url.searchParams.get("id");
    var name = url.searchParams.get("name");
    var score = url.searchParams.get("score");

    document.getElementById('name').innerHTML += name;
    document.getElementById('score').innerHTML += score;
    
    axios.get('http://127.0.0.1:80/replay/'+ replay_id)
                .then(response => {
                   replay_data = response.data;
                   console.log(replay_data);
               })
               .catch(error => console.log(error));

    </script>
    <script src="camera.js"></script>
</body>
</html>