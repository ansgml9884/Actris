<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="replay.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <audio id="my_audio">
        <source src="music/bgm_play_Tenvi.mp3">
    </audio>
    <audio id='btnaudio1' src='music/btn_pause.mp3'></audio>
    <audio id='btnaudio2' src='music/exit (mp3cut.net).mp3'></audio>
    <audio id='faster' src='music/right.mp3'></audio>
    <audio id='slower' src='music/left.mp3'></audio>
</head>

<body class="body">
    <video id="bgvideo" muted autoplay loop>
        <source src="videos/Playgame.mp4" type="video/mp4">
        <div id="layer"></div>
    </video>

    <section class="sec1">
        <canvas class="game" id="gameCanvas" width="550px" height="680px" />
    </section>

    <section class="sec2">
        <br><br>
        <div id="title">REPLAY</div>
        <br><br><br>
        <div class="rank" id="name"></div>
        <br><br>
        <div class="rank" id="score"></div>

        <form>
            <img id="larrow" src="images/left_arrow.png" width="40px" onmouseup="slower()">
            <input id="speed" type=text name=amount value=1 readonly;>
            <img id="rarrow" src="images/right_arrow.png" width="40px" onmouseup="faster()">
        </form>
        <br><br>
        <p><button class="control" id="pauseBtn" onmouseover="pause()">PAUSE</button></p>
        <p><button class="control" onclick="location.href='ranking.html'" onmouseover="exit()">EXIT</button></p>
    </section>
    <script>
        function faster() {
            let audio = document.getElementById('faster');
            audio.play();
            audio.volume = 0.4
        }
        function slower() {
            let audio = document.getElementById('slower');
            audio.play();
            audio.volume = 0.5
        }
        function pause() {
            let audio = document.getElementById('btnaudio1');
            audio.play();
        }
        function exit() {
            let audio = document.getElementById('btnaudio2');
            audio.play();
        }
        //뒤로가기 막기
        history.pushState(null, null, location.href);
        window.onpopstate = function () {
            history.go(1);
        };
    </script>
    <script type="text/javascript">
        setTimeout(function () {
            document.getElementById("my_audio").play();
        }, 2000)

        var url = new URL(window.location.href);
        var replay_id = url.searchParams.get("id");
        var name = url.searchParams.get("name");
        var score = url.searchParams.get("score");

        document.getElementById('name').innerHTML += name;
        document.getElementById('score').innerHTML += score;
    </script>
    <script src="replay.js"></script>
</body>

</html>